<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Execution Plans - RDS Performance Insights & Query Optimization</title>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css><link rel=stylesheet href=/css/theme-blue.css><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:work sans,helvetica,tahoma,geneva,arial,sans-serif;font-weight:300;line-height:1.6;font-size:18px;color:var(--MAIN-TEXT-color,#323232)}#sidebar{position:fixed;top:0;left:0;width:300px;height:100vh;background:var(--MENU-SECTIONS-BG-color,#252c31);color:#ccc;overflow-y:auto;z-index:1000}#sidebar #header{padding:2rem 1rem;text-align:center;background:var(--MENU-HEADER-BG-color,#1C90F3);border-bottom:1px solid var(--MENU-HEADER-BORDER-color,#33a1ff)}#sidebar #header .baseurl{color:var(--MENU-SEARCH-BOX-color,#33a1ff);font-size:1.5rem;font-weight:700}#sidebar .searchbox{padding:10px;background:var(--MENU-SEARCH-BG-color,#167ad0);border-bottom:1px solid var(--MENU-SEARCH-BOX-color,#33a1ff)}#sidebar .searchbox input{width:100%;padding:10px;border:1px solid var(--MENU-SEARCH-BOX-color,#33a1ff);background:rgba(255,255,255,.1);color:var(--MENU-SEARCH-BOX-ICONS-color,#a1d2fd);border-radius:4px}#sidebar-toggle-span{display:none}#body{margin-left:300px}#body .padding{padding:3rem 6rem}#sidebar ul{list-style:none;padding:0;margin:0}#sidebar ul li a{display:block;padding:10px 20px;color:var(--MENU-SECTIONS-LINK-color,#ccc);text-decoration:none;border-left:4px solid transparent}#sidebar ul li a:hover{background:var(--MENU-SECTIONS-ACTIVE-BG-color,#20272b);border-left-color:var(--MAIN-LINK-color,#1C90F3);color:var(--MENU-SECTIONS-LINK-HOVER-color,#e6e6e6)}#sidebar ul li.active>a{background:var(--MENU-SECTION-ACTIVE-CATEGORY-BG-color,#fff);border-left-color:var(--MAIN-LINK-color,#1C90F3);color:var(--MENU-SECTION-ACTIVE-CATEGORY-color,#777)}#sidebar ul ul{padding-left:20px}#sidebar ul ul li a{padding:8px 20px;font-size:.9em}.language-switcher{position:relative;padding:20px}.language-switcher a{color:var(--MAIN-LINK-color,#1C90F3);text-decoration:none;margin-left:10px}.language-switcher a:hover{color:var(--MAIN-LINK-HOVER-color,#167ad0)}h1,h2,h3,h4,h5,h6{color:var(--MAIN-TITLES-TEXT-color,#5e5e5e);font-weight:400}h1{font-size:3rem}h2{font-size:2.5rem}h3{font-size:2rem}a{color:var(--MAIN-LINK-color,#1C90F3)}a:hover{color:var(--MAIN-LINK-HOVER-color,#167ad0)}pre{background:#f8f8f8;padding:1rem;border-radius:4px;overflow-x:auto}code{background:#f8f8f8;padding:.2rem .4rem;border-radius:3px;font-size:.9em}.breadcrumbs{margin-bottom:2rem;color:#999}.breadcrumbs a{color:var(--MAIN-LINK-color,#1C90F3);text-decoration:none}.breadcrumbs a:hover{color:var(--MAIN-LINK-HOVER-color,#167ad0);text-decoration:underline}@media(max-width:768px){#sidebar{transform:translateX(-300px);transition:transform .3s}#sidebar.open{transform:translateX(0)}#body{margin-left:0}#body .padding{padding:1rem 2rem}#sidebar-toggle-span{display:block;position:fixed;top:10px;left:10px;z-index:1001}#sidebar-toggle{background:var(--MAIN-LINK-color,#1C90F3);color:#fff;padding:10px;border:none;border-radius:4px}}</style></head><body><nav id=sidebar><div id=header><a id=logo href=/><div style=text-align:center;padding:20px><h2 style=color:var(--MENU-SEARCH-BOX-color,#33a1ff);font-size:2rem;font-weight:700;margin:0>LEARN</h2><p style="color:var(--MENU-SEARCH-BOX-ICONS-color,#a1d2fd);font-size:.9rem;margin:5px 0 0">RDS Performance Insights</p></div></a></div><div class=searchbox><input type=search placeholder=Search... id=search-input></div><ul class=topics><li><a href=http://localhost:1313/><i class="fas fa-home"></i> Home</a></li><li><a href=/introduction/><i class="fas fa-book"></i> 1. Introduction</a></li><li><a href=/preparation/><i class="fas fa-book"></i> 2. Preparation</a></li><li><a href=/performance-baseline/><i class="fas fa-book"></i> 3. Performance Baseline Establishment</a></li><li><a href=/performance-insights/><i class="fas fa-book"></i> Performance Insights</a></li><li><a href=/monitoring-dashboard/><i class="fas fa-book"></i> 4. Monitoring Dashboard</a></li><li><a href=/alerting-system/><i class="fas fa-book"></i> 5. Alerting System</a></li><li class=active><a href=/query-optimization/><i class="fas fa-book"></i> 6. Query Optimization Techniques</a><ul><li><a href=/query-optimization/overview/>Overview</a></li><li><a href=/query-optimization/index-strategies/>Index Strategies</a></li><li><a href=/query-optimization/query-rewriting/>Query Rewriting</a></li><li class=active><a href=/query-optimization/execution-plans/>Execution Plans</a></li></ul></li><li><a href=/automated-tuning/><i class="fas fa-book"></i> 7. Automated Tuning Recommendations</a></li><li><a href=/capacity-planning/><i class="fas fa-book"></i> 8. Capacity Planning</a></li><li><a href=/monitoring/><i class="fas fa-book"></i> 9. Monitoring & Alerting</a></li><li><a href=/best-practices/><i class="fas fa-book"></i> 10. Cleanup Resources</a></li></ul><div class=language-switcher><a href=/vi><i class="fas fa-language"></i> Tiếng Việt</a></div></nav><span id=sidebar-toggle-span><a href=# id=sidebar-toggle><i class="fas fa-bars"></i></a></span><section id=body><div id=overlay></div><div class=padding><div id=body-inner><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>
<span>> </span><a href=/>RDS Performance Insights & Query Optimization</a>
<span>> </span><a href=/query-optimization/>6. Query Optimization Techniques</a>
<span>> </span>Execution Plans</div><h1>Execution Plans</h1><h1 id=execution-plans---understanding-and-analyzing-query-plans>Execution Plans - Understanding and Analyzing Query Plans</h1><p>An execution plan is the &ldquo;roadmap&rdquo; that the database will follow to execute a query. Understanding it is the key to diagnosing and fixing query performance issues.</p><h2 id=how-to-get-execution-plans>How to Get Execution Plans</h2><h3 id=using-explain>Using EXPLAIN</h3><p>Use the <code>EXPLAIN</code> command before any SQL query:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>EXPLAIN</span> <span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> users <span style=color:#66d9ef>WHERE</span> id <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span></code></pre></div><h3 id=using-explain-analyze>Using EXPLAIN ANALYZE</h3><p>Available in recent MySQL versions and PostgreSQL to actually run the query and collect real-time statistics about the execution plan, including time and actual number of rows processed:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>EXPLAIN</span> <span style=color:#66d9ef>ANALYZE</span> <span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> users <span style=color:#66d9ef>WHERE</span> id <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span></code></pre></div><h2 id=key-elements-to-analyze-in-an-execution-plan>Key Elements to Analyze in an Execution Plan</h2><h3 id=type>type</h3><p>Indicates the table access method:</p><ul><li><code>ALL</code> - Bad (full table scan)</li><li><code>ref</code>, <code>eq_ref</code>, <code>const</code> - Good (using indexes effectively)</li></ul><h3 id=key>key</h3><p>Which index is being used. If <code>NULL</code>, no index is being used.</p><h3 id=rows>rows</h3><p>Estimated number of rows that MySQL must examine. The smaller this number, the better. A large number indicates inefficient table or index scanning.</p><h3 id=filtered>filtered</h3><p>Estimated percentage of rows remaining after applying table conditions. A low value indicates many rows were read but then discarded.</p><h3 id=extra>Extra</h3><p>Provides important information about additional operations the optimizer must perform:</p><h4 id=using-filesort>Using filesort</h4><p>Sorting data using an expensive algorithm. Try to use index for sorting (add ORDER BY columns to index).</p><h4 id=using-temporary>Using temporary</h4><p>MySQL needs to create a temporary table on disk or in memory to process the query (e.g., for GROUP BY or DISTINCT that can&rsquo;t use index). Try to optimize the query to avoid this.</p><h4 id=using-where>Using where</h4><p>WHERE clause is applied to filter rows. If combined with ALL, it indicates inefficient table scanning.</p><h4 id=using-index>Using index</h4><p>Very good! The query is satisfied entirely by using the index (covering index), no need to access table data.</p><h4 id=using-join-buffer>Using join buffer</h4><p>Data is being stored in buffer for joins, which may indicate an inefficient join.</p><h2 id=common-performance-issues-and-solutions>Common Performance Issues and Solutions</h2><h3 id=full-table-scans-type--all>Full Table Scans (type = ALL)</h3><p><strong>Problem</strong>: Database reads every row in the table
<strong>Solution</strong>: Add appropriate indexes on WHERE clause columns</p><h3 id=large-row-counts>Large Row Counts</h3><p><strong>Problem</strong>: High number in <code>rows</code> column
<strong>Solution</strong>:</p><ul><li>Add more selective indexes</li><li>Rewrite query to be more specific</li><li>Consider query optimization</li></ul><h3 id=using-filesort-1>Using filesort</h3><p><strong>Problem</strong>: Expensive sorting operation
<strong>Solution</strong>: Create composite index including ORDER BY columns</p><h3 id=using-temporary-1>Using temporary</h3><p><strong>Problem</strong>: Temporary table creation overhead
<strong>Solution</strong>:</p><ul><li>Optimize GROUP BY clauses</li><li>Add appropriate indexes</li><li>Rewrite query structure</li></ul><h2 id=best-practices-for-execution-plan-analysis>Best Practices for Execution Plan Analysis</h2><ol><li><strong>Always check the <code>type</code> column first</strong> - Avoid <code>ALL</code> scans</li><li><strong>Look for <code>NULL</code> in the <code>key</code> column</strong> - Indicates missing indexes</li><li><strong>Monitor the <code>rows</code> column</strong> - High numbers suggest optimization opportunities</li><li><strong>Pay attention to <code>Extra</code> information</strong> - Provides crucial optimization hints</li><li><strong>Use EXPLAIN ANALYZE when possible</strong> - Get actual vs estimated statistics</li></ol><h2 id=tools-and-techniques>Tools and Techniques</h2><ul><li><strong>MySQL Workbench</strong>: Visual execution plan display</li><li><strong>Performance Schema</strong>: Advanced query analysis</li><li><strong>Slow Query Log</strong>: Identify problematic queries</li><li><strong>Performance Insights</strong>: AWS RDS specific analysis tools</li></ul><hr><p><em>Previous: <a href=../query-rewriting/>Query Rewriting</a> | Next: Return to <a href=/>Query Optimization Overview</a></em></p></div></div></section><script>document.getElementById("sidebar-toggle").addEventListener("click",function(e){e.preventDefault(),document.getElementById("sidebar").classList.toggle("open")})</script></body></html>